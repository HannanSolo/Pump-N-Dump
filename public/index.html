<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Pump N Dump!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="styles.css">
    <script type="text/javascript" src="js/Chart.js"></script>


</head>
<body>

<!-- Page Container -->
<div id="page-container">
    <!-- Pump Buttons -->
    <div id="pump-container">
        <div id="coins-container">

        </div>
    </div>

    <!-- Pump Button -->
    <div id="pump-container">
        <div id="pump-card" class="buttons">
            <p class="button-text">Bitcoin</p>
            <p class="button-text">How much do you want to pump?</p>
            <input id="pump-amount" type="text"><br/>
            <button onclick="pump()">PUMP!</button>
        </div>
    </div>
</div>



<!-- Electron Render -->

<script>
//allow server&client to talk
const {ipcRenderer} = require('electron');
//ask for api data
ipcRenderer.send('readyForData', '');
//on obtained api data
ipcRenderer.on('apiData', (event, arg) => {
    console.log(arg);
});


//add shitcoin cards to html grid
var coins = 3;
var holder = document.getElementById('coins-container');
for(i = 0; i < coins; i++){
    holder.innerHTML +=
        '<div id=coin'+i+' class="buttons">'
            +'<p class="button-text">Coin 1</p>'
            +'<div class="input-group mb-3">'
              +'<input type="text" class="form-control" aria-label="Text input with dropdown button">'
            +'</div>'
            +'<p class="button-text"><canvas id="myChart" width="200" height="200"></canvas></p>'
            +'<div class="slidecontainer">'
              +'<input type="range" min="1" max="100" value="50" class="slider" id="myRange">'
            +'</div>'
        +'</div>';
}

//verify and use pump function
function pump(){
    ipcRenderer.send('pump-amount', document.getElementById('pump-amount').value);
}

//verify and use dump function
function dump(){
    ipcRenderer.send('dump-amount', document.getElementById('dump-amount').value);
}


var ctx = document.getElementById("myChart");
Chart.defaults.line.spanGaps = true;
var myChart = new Chart(ctx, {
    type: 'line',
  data: {
    labels: [0,12,24],
    datasets: [{
        data: [86,1000,2999],
        borderColor: "#3e95cd",
        fill: false
      }
    ]
  },
  options: {
    title: {
      display: true,
      text: 'BTC 24H'
    }
  }
});
</script>
</body>
</html>
